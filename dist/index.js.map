{"version":3,"sources":["../src/index.js"],"names":["vorpal","Vorpal","delimiter","isRobotPlaced","args","activeCommand","parent","robotPlaced","process","stdout","write","chalk","red","command","action","callback","toyRobot","ToyRobot","e","message","hidden","parts","split","length","x","y","f","finalX","isNaN","parseInt","finalY","finalF","toUpperCase","place","validate","move","left","right","currentPosition","report","blue","X","Y","F","exec","data","show","on","err","ui","cancel"],"mappings":"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","sourcesContent":["import Vorpal from \"vorpal\";\nimport chalk from \"chalk\";\nimport ToyRobot from \"./ToyRobot\";\n\nconst vorpal = new Vorpal().delimiter(\"toyRobot$\");\n\nconst isRobotPlaced = (args) => {\n    // Checking if toy robot has been placed on tabletop\n    if (vorpal.activeCommand.parent.robotPlaced) {\n        return true;\n    } else {\n        process.stdout.write(chalk.red(\"Error: The first valid command to the robot is a PLACE command! \\n\"));\n        return false;\n    }\n};\n\nvorpal.command(\"init\",\n    \"Command to initialize Robot\",\n    {})\n    .action((args, callback) => {\n        try {\n            vorpal.activeCommand.parent.toyRobot = new ToyRobot();\n            vorpal.activeCommand.parent.robotPlaced = false;\n        } catch (e) {\n            process.stdout.write(chalk.red(\"Error: \" + e.message + \"\\n\"));\n        }\n        callback();\n    })\n    .hidden();\n\nvorpal.command(\"PLACE <X,Y,F>\",\n                \"PLACE will put the toy robot on the table in position X,Y and facing NORTH, SOUTH, EAST or WEST.\",\n                {})\n    .action((args, callback) => {\n      try {\n          let parts = args[\"X,Y,F\"].split(\",\");\n          if (parts.length !== 3) {\n              process.stdout.write(chalk.red(\"Error: Require parameter in X,Y,F format!\\n\"));\n          } else {\n              let [x, y, f] = parts;\n              let finalX = (isNaN(parseInt(x, 10))) ? 0 : parseInt(x, 10);\n              let finalY = (isNaN(parseInt(y, 10))) ? 0 : parseInt(y, 10);\n              let finalF = f.toUpperCase();\n\n              // process.stdout.write(chalk.green(\"Putting the toy robot on the table in position \" + finalX + \",\" + finalY + \",\" + finalF + \" \\n\"));\n              vorpal.activeCommand.parent.toyRobot.place(finalX, finalY, finalF);\n              vorpal.activeCommand.parent.robotPlaced = true;\n          }\n      } catch (e) {\n          process.stdout.write(chalk.red(\"Error: \" + e.message + \"\\n\"));\n      }\n      callback();\n    });\n\nvorpal.command(\"MOVE\",\n                \"MOVE will move the toy robot one unit forward in the direction it is currently facing.\",\n                {})\n    .validate(isRobotPlaced)\n    .action((args, callback) => {\n        try {\n            // process.stdout.write(chalk.green(\"Moving 1 unit forward. \\n\"));\n            vorpal.activeCommand.parent.toyRobot.move();\n        } catch (e) {\n            process.stdout.write(chalk.red(\"Error: \" + e.message + \"\\n\"));\n        }\n        callback();\n    });\n\nvorpal.command(\"LEFT\",\n                \"LEFT will rotate the robot 90 degrees in the specified direction without changing the position of the robot.\",\n                {})\n    .validate(isRobotPlaced)\n    .action((args, callback) => {\n        try {\n            // process.stdout.write(chalk.green(\"Turning left. \\n\"));\n            vorpal.activeCommand.parent.toyRobot.left();\n        } catch (e) {\n            process.stdout.write(chalk.red(\"Error: \" + e.message + \"\\n\"));\n        }\n        callback();\n    });\n\nvorpal.command(\"RIGHT\",\n                \"RIGHT will rotate the robot 90 degrees in the specified direction without changing the position of the robot.\",\n                {})\n    .validate(isRobotPlaced)\n    .action((args, callback) => {\n        try {\n            // process.stdout.write(chalk.green(\"Turning Right. \\n\"));\n            vorpal.activeCommand.parent.toyRobot.right();\n        } catch (e) {\n            process.stdout.write(chalk.red(\"Error: \" + e.message + \"\\n\"));\n        }\n        callback();\n    });\n\nvorpal.command(\"REPORT\",\n                \"REPORT will announce the X,Y and F of the robot.\",\n                {})\n    .validate(isRobotPlaced)\n    .action((args, callback) => {\n        try {\n            let currentPosition = vorpal.activeCommand.parent.toyRobot.report();\n            // process.stdout.write(chalk.blue(\"Announcing X,Y and F. \\n\"));\n            process.stdout.write(chalk.blue(currentPosition.X + \",\" + currentPosition.Y + \",\" + currentPosition.F + \" \\n\"));\n        } catch (e) {\n            process.stdout.write(chalk.red(\"Error: \" + e.message + \"\\n\"));\n        }\n        callback();\n    });\n\nvorpal.exec('init', {}, (data) => {\n    // Left blank intentionally\n});\n\n// Attach the TTY's CLI prompt to that given instance of Vorpal\nvorpal.show();\n\nprocess.on(\"uncaughtException\", (err) => {\n    process.stdout.write(chalk.red(\"Error: \" + err.message + \"\\n\"));\n    vorpal.ui.cancel();\n});\n"],"file":"index.js"}